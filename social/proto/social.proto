syntax = "proto3";

package github.com.darialissi.msa_big_tech.social;

option go_package = "github.com/darialissi/msa_big_tech/social/pkg;social";


// Отправление запроса "В Друзья"
message SendFriendRequestRequest {
  uint64 user_id = 1;
  uint64 to_user_id = 2;
}

message SendFriendRequestResponse {
  FriendRequest friend_request = 1;
}

// Получение списка входящих запросов
message ListFriendRequestsRequest {
  uint64 user_id = 1;
}

message ListFriendRequestsResponse {
  repeated FriendRequest friend_requests = 1;
}

// Принятие заявки
message AcceptFriendRequestRequest {
  uint64 friend_request_id = 1;
}

message AcceptFriendRequestResponse {
  FriendRequest friend_request = 1;
}

// Отклонение заявки
message DeclineFriendRequestRequest {
  uint64 friend_request_id = 1;
}

message DeclineFriendRequestResponse {
  FriendRequest friend_request = 1;
}

// Удаление из "Друзей"
message RemoveFriendRequest {
  uint64 user_id = 1;
  uint64 friend_id = 2;
}

message RemoveFriendResponse {
  uint64 friend_id = 1;
}

// Получение списка "Друзей"
message ListFriendsRequest {
  uint64 user_id = 1;
  uint64 limit = 2;
}

message ListFriendsResponse {
  repeated uint64 friend_ids = 1;
}

// Объекты
message FriendRequest {
  uint64 request_id = 1;
  Status status = 2;
  uint64 from_user_id = 3;
  uint64 to_user_id = 4;
}

enum Status {
  PENDING = 0;
  ACCEPTED = 1;
  DECLINED = 2;
}