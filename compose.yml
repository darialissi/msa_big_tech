services:

  auth:
    container_name: auth_service
    build:
      context: ./auth
    ports:
      - "8083:50053"
    networks:
      - app-network

  chat:
    container_name: chat_service
    build:
      context: ./chat
    ports:
      - "8084:50054"
    networks:
      - app-network

  social:
    container_name: social_service
    build:
      context: ./social
    ports:
      - "8085:50055"
    networks:
      - app-network

  users:
    container_name: users_service
    build:
      context: ./users
    ports:
      - "8086:50056"
    networks:
      - app-network

  gateway:
    container_name: gateway_service
    build:
      context: ./gateway
    ports:
      - "8087:50057"
    networks:
      - app-network
    depends_on:
      - auth
      - chat
      - social
      - users


# Определяем общую сеть
networks:
  app-network:
    driver: bridge